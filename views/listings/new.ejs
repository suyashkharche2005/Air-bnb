<% layout("layouts/boilerplate") %>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

<div class="row">
  <div class="col-8 offset-2">


<br></br>
<h3>Create a New Listing</h3>

<form method="POST" action="/listings" class="needs-validation" enctype="multipart/form-data"  novalidate>
  <div class="mb-2">
    <label for="title" class="form-label">Title</label>
    <input
      id="title"
      name="listing[title]"
      placeholder="enter catchy title"
      type="text"
      class="form-control"
      required
    />
    <div class="invalid-feedback">please enter a valid title</div>
        

  </div>

  <div class="mb-2">
    <label for="description" class="form-label">Description</label>
    <textarea
      id="description"
      name="listing[description]"
      placeholder="enter description"
      class="form-control"
      required
    ></textarea>
    <div class="invalid-feedback">please enter a short description</div>
  </div>

  


   <div class="mb-2">
    <label for="image" class="form-label">Upload listing  Image</label>
    <input
      id="image"
      name="listing[image]"
      type="file"
      class="form-control"
      required
    />
    <div class="invalid-feedback">please enter a valid url</div>
  </div>



  <div class="row">
    <div class="mb-2 col-4">
      <label for="price" class="form-label">Price</label>
      <input
        id="price"
        name="listing[price]"
        placeholder="4000"
        class="form-control"
        required
        min="1"
      />
      <div class="invalid-feedback"> price should be valid</div>
    </div>

    <div class="mb-2 col-8">
      <label for="country" class="form-label">Country</label>
      <input
        id="country"
        name="listing[country]"
        placeholder="India"
        type="text"
        class="form-control"
        required
      />
      <div class="invalid-feedback">country name should be valid</div>
    </div>
  </div>

  <div class="mb-2">
    <label for="location" class="form-label">Location</label>
    <input
      id="location"
      name="listing[location]"
      placeholder="Mumbai,Pune"
      type="text"
      class="form-control"
      required
    />
    <div class="invalid-feedback"> location should be valid</div>
   </div>


  <button class="btn btn-dark add-btn">Add</button>

  </form>

</form>

<script>
  (() => {
    'use strict';
    const form = document.querySelector('.needs-validation');

    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }

      form.classList.add('was-validated');
    });
  })();
</script>

</div>
</div>